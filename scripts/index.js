var YEARS = [];
for (let i = 1990; i <= 2018; i++) {
    YEARS.push(i);
}

const allData = [
    //transportationData
    [1527.0711882173, 1480.9272119681002, 1540.5309362199, 1577.5191124671003, 1632.1537449700998, 1667.3283605779, 1723.4979366798, 1750.0083386289002, 1792.3658013939998, 1863.368589081, 1901.2317611727, 1881.7826423284, 1923.216329648, 1914.1933853651, 1958.1443007211, 1973.4203594631, 1969.8152199867, 1968.842070664, 1871.6119360227, 1792.9760798243, 1801.0620363054, 1768.6329960969, 1750.4321269076, 1756.4071872646, 1791.6210933814, 1800.2440913706, 1835.6066043936, 1852.3108499035, 1882.5576122977],
    //electricityData
    [1875.5936586594, 1871.6225297936999, 1886.5939705508, 1962.3549704664, 1987.1519987401998, 2003.8727152667002, 2076.8547155007, 2143.0226024623003, 2229.5628216557, 2243.618000332, 2349.1574574007, 2309.6653803598, 2325.541878437, 2356.8223782525997, 2389.8788409264002, 2455.929919642, 2399.3096533315, 2466.0017027891, 2412.1926799281, 2196.0334769093, 2312.117766827, 2209.8145940516, 2070.9274975131, 2088.8861819589997, 2089.1205140832003, 1949.2336429765, 1856.8059280907, 1778.3955188522, 1798.9251117667],
    //industryData
    [1628.6768669267997, 1602.0459522060994, 1633.0759162535992, 1602.4081858964998, 1628.1072514785008, 1646.8098499669995, 1674.9088542904997, 1672.3159530486002, 1644.5099412369, 1592.5961041801002, 1583.7681659203997, 1532.4887658275002, 1517.4036931993, 1494.8846341338997, 1544.6036267456004, 1501.6600883621, 1534.3126560756998, 1524.1236501799006, 1466.5341048335004, 1311.265849161, 1403.7923683257004, 1407.8326900105008, 1400.9319774635005, 1453.9545709635001, 1438.7778515429995, 1429.7542926726003, 1388.7878029459996, 1411.5266948697001, 1470.7430374054],
    //agricultureData
    [598.9672181336001, 589.6825198914, 590.5702461258999, 618.6143882006999, 605.833116608, 618.1379335791, 625.0734852898997, 613.5751379513998, 620.5264315639998, 611.5216900869001, 596.4094216738, 617.1928662352, 620.0008921532, 620.2769080189, 632.8036821756999, 627.5388067989999, 626.3007950388001, 643.5481539485999, 631.8578160373003, 633.876228246, 642.1059920348, 623.2877821111999, 606.8957640856, 645.1682591653001, 654.9397514473001, 655.9890694283998, 640.9807342004, 642.3788142043999, 658.5565496403998],
    //commercialData
    [428.6683467197, 435.6100125963, 431.178707471, 424.6274936339, 428.0656221521, 427.28427391330007, 434.83276846880005, 427.62405438210004, 402.0758519016, 398.2188028213, 412.0908147711, 401.1059362549, 402.0738322193, 418.3200664177, 415.9203449465999, 405.125416033, 391.8042589501, 406.4249240307, 414.2491402704, 417.83102857709997, 420.2497220126999, 415.62449452730004, 395.7557633149, 419.06528603280003, 429.3524256262001, 442.51151634480004, 426.9911289336, 426.7639846336, 443.32173837650004],
    //residentialData
    [344.7016664955, 354.24760644090003, 360.8211613835, 372.1649555816, 362.9392965953, 367.1586780385, 398.9954377764, 380.4227659673, 346.47714667720004, 366.2787840535, 387.00146942679993, 377.0906653048, 374.3268180503, 392.6852015918, 380.7602116099, 370.05340630439997, 333.94197077949997, 355.5328137463, 364.16536448039994, 354.6827799646, 355.7228923736, 349.31733693020004, 307.27321799339995, 357.9959520424, 378.57514281550004, 352.0027204812, 328.27705455939997, 330.2347275592, 375.9190632487],
    //usTerritoriesData
    [33.3211856043, 39.123870575, 37.315649754700004, 39.085447397399996, 41.4794401209, 40.4238289966, 40.2438462082, 41.83578293269999, 42.2322693044, 50.0070131161, 45.737878565799996, 53.148819845000006, 51.8971583724, 57.9298361643, 59.5576767056, 58.0431333437, 58.904336522099996, 51.9811536652, 49.5182604467, 47.2406433592, 46.562267098, 46.0235756366, 48.458468462599996, 48.0735915892, 46.6298764111, 46.6360938062, 46.6311843868, 46.62404960440001, 46.6265043141],
]

TransportationPercentage = [0.237233363, 0.23236574, 0.237733079, 0.239134914, 0.244124969, 0.246244943, 0.247117486, 0.248976665, 0.253239481, 0.261503065, 0.26132344, 0.262361684, 0.266577979, 0.263840624, 0.265271226, 0.266975306, 0.269306876, 0.265469448, 0.259580911, 0.265472462, 0.257972194, 0.259310068, 0.26599584, 0.259456968, 0.262354184, 0.269644089, 0.281358671, 0.285487648, 0.281961421]
ElectricityPercentage = [0.29137698, 0.293668016, 0.291137155, 0.297471886, 0.29722287, 0.295948617, 0.297782263, 0.304891474, 0.3150101, 0.314866842, 0.322890623, 0.322017903, 0.322344525, 0.324849878, 0.323758617, 0.332251889, 0.328025989, 0.332504125, 0.334556092, 0.325150135, 0.331172431, 0.323994392, 0.314698349, 0.30857086, 0.305918205, 0.291960036, 0.284608068, 0.274095439, 0.269435303]
IndustryPercentage = [0.253017995, 0.251369947, 0.252014521, 0.242907829, 0.243519726, 0.243214598, 0.240150717, 0.237923237, 0.232349247, 0.223503157, 0.217688213, 0.213662473, 0.210328086, 0.206045689, 0.209248571, 0.203152947, 0.209766349, 0.205505698, 0.203399141, 0.194149257, 0.201069919, 0.206410935, 0.212885763, 0.214778582, 0.210685949, 0.214151401, 0.212871042, 0.217551734,	0.220281597]
AgriculturePercentage = [0.093050677, 0.092524477, 0.091136166, 0.093775281, 0.090615845, 0.09129176, 0.089623889, 0.087294379, 0.087672835, 0.08582027, 0.081976203, 0.086050193, 0.085938634, 0.085495148, 0.085726373, 0.084896948, 0.085625854, 0.08677302, 0.087634741, 0.093853278, 0.091971008, 0.091384022, 0.092223941, 0.095304438, 0.095905426, 0.098255329, 0.098248441, 0.099006718, 0.098635781]
CommercialPercentage = [0.120144477, 0.123933067, 0.122220569, 0.120785156, 0.118312415, 0.117329953, 0.119555426, 0.114962196, 0.105761431, 0.107288737, 0.109834871, 0.108497638, 0.107617283, 0.11178397, 0.107926891, 0.104870511, 0.099221718, 0.102738814, 0.107961241, 0.114380301, 0.111145176, 0.112152786, 0.106832354, 0.114787707, 0.118308039, 0.1190039, 0.115766228, 0.116672524, 0.12270238]

// Average emissions per sector
average = [0.259220509, 0.309385485, 0.220813942, 0.090610727, 0.113189578, 0.00678]
//sector = ["Transportation", "Electricity", "Industry", "Agriculture", "Commercial/Residential", "other"]

sectors = ["Transportation", "Electricity", "Industry", "Agriculture", "Commercial/Residential"]
colors = ['rgb(255, 54, 54)', 'rgb(84, 124, 255)', 'rgb(147, 84, 255)', 'rgb(69, 255, 81)', 'rgb(255, 155, 61)']

function getDataSet(i) {
    return {
        labels: YEARS,
        datasets: [{
            label: sectors[i],
            backgroundColor: colors[i],
            data: allData[i],
            fill: false,
        }]
    }
}

// Gas Emissions Config
function getConfig(dataSet) {
    return {
        type: 'line',
        data: dataSet,
        options: {
            title: {
                display: true,
                text: 'CO2 Emissions by Sectors in US (1990 - 2018)'
            },
            scales: {
                xAxes: [{
                    stacked: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Year'
                    }
                }],
                yAxes: [{
                    stacked: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Million Metric Tons'
                    }

                }]
            }
        }
    }
}

window.onload = function () {
    //change to config2 -> config to change to line chart
    Chart.defaults.global.defaultFontColor = "rgb(0,0,0)";
    for (let i = 0; i < 5; i++) {
        var ctx = document.getElementById(`canvas${i + 1}`).getContext('2d');
        var dataSet = getDataSet(i);
        window.myLine = new Chart(ctx, getConfig(dataSet))
    }

};